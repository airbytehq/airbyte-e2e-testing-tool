import org.jsonschema2pojo.SourceType

/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.2/samples
 */

buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'org.jsonschema2pojo:jsonschema2pojo-gradle-plugin:latest.integration'
    }
}

plugins {
    id 'java'
    id "io.freefair.lombok" version "6.5.0.3"
    id 'jsonschema2pojo'
}

sourceCompatibility = 17
targetCompatibility = 17

version '0.1.1'

repositories {
    mavenCentral()
    maven {
        url "https://airbyte.mycloudrepo.io/public/repositories/airbyte-public-jars/"
    }
}

dependencies {
    implementation platform('com.google.cloud:libraries-bom:26.1.0')

    implementation 'org.apache.logging.log4j:log4j-api:2.17.1'
    implementation 'org.apache.logging.log4j:log4j-core:2.17.1'
    implementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.17.1'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.3'
    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.3'
    implementation 'org.apache.commons:commons-lang3:3.12.0'
    implementation 'io.airbyte:airbyte-api:0.40.0-alpha'
    implementation 'com.google.cloud:google-cloud-secretmanager'
}

jsonSchema2Pojo {
    sourceType = SourceType.YAMLSCHEMA
    source = files("${sourceSets.main.output.resourcesDir}/configmodels")
    targetDirectory = new File(project.buildDir, 'generated/src/gen/java/')

    targetPackage = 'io.airbyte.testingtool.scenario.config'
    useLongIntegers = true

    removeOldOutput = true

    generateBuilders = true
    includeConstructors = false
    includeSetters = true
    serializable = true
}